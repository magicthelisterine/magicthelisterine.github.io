const BRAINSTORM_API="AKfycbxlWyJ4IWnIONnh9tBgkHi8fmSkHjjNqQ7sfiHdmrYQwbK2rgFmKBdi6YtoXdDf4HXG",Brainstorm={getCards:function(){return this.httpGET().then(e=>e.success?{success:!0,rows:e.data.rows}:e)},addCard:function(e){return this.httpPOST({action:"add",values:e}).then(r=>r.success?{success:!0,uuid:r.data.uuid}:r)},addImage:function(e,r){},httpGET:async function(e=null){const r=["192.168.1.56","localhost","127.0.0.1"].includes(window.location.hostname)?root+"assets/data/cards.json":"https://script.google.com/macros/s/"+BRAINSTORM_API+"/exec";return fetch(r).then(s=>{if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);return s.text()}).then(s=>{let t=JSON.parse(s);return t.status==null?{success:!1,errmsg:"R\xE9ponse du serveur invalide."}:t.status!="success"?{success:!1,errmsg:t.message}:{success:!0,data:t}}).catch(s=>({success:!1,errmsg:s.message}))},httpPOST:async function(e){const r="https://script.google.com/macros/s/"+BRAINSTORM_API+"/exec";return fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"data="+encodeURIComponent(JSON.stringify(e))}).then(s=>{if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);return s.text()}).then(s=>{let t=JSON.parse(s);return t.status==null?{success:!1,errmsg:"R\xE9ponse du serveur invalide."}:t.status!="success"?{success:!1,errmsg:t.message}:{success:!0,data:t}}).catch(s=>({success:!1,errmsg:s.message}))}};
