const CardPool={main:null,cards:[],init:async function(){this.main=query("main"),Brainstorm.getCards().then((e=>{e.success?(this.cards=e.rows,this.container=create("article"),this.container.replaceChildren(this.renderCards()),this.main.replaceChildren(this.container)):MessageModal.alert(e.errmsg,(()=>{document.location.href=root}))}))},renderCards:function(){const e=root+"assets/images/cartes/thumbnails/",r=create("div","card-grid");return this.cards.forEach((t=>{const i=create("div","card-grid__item");i.create("div","card-grid__item__icon").style.setProperty("background-image","url("+e+t.image.webp_small+")");const a=i.create("div","card-grid__item__details");a.create("div","card-grid__item__details__name",t.name);const s=a.create("div","card-grid__item__details__description");s.create("div","card-grid__item__details__description__legend",t.supertype+" "+t.type+" - "+t.subtype),s.create("div","card-grid__item__details__description__power_toughness",t.power+"/"+t.toughness),s.create("div","card-grid__item__details__description__cost",this.renderSymbols(t.cost)),r.append(i)})),r},renderSymbols:function(e){let r="";return[...String(e).matchAll(/\{(.*?)\}/g)].map((e=>e[1])).forEach((e=>{r+=`<div class="symbol-1rem icon-${e}"></div>`})),r}};